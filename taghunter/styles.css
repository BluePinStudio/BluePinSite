/* =========================================================
   Steam Tag Hunter – Wrapping Fixes + Date Range in one line
   ========================================================= */

/* ---------- Color System ---------- */
:root{
  --bg:#0b0d10; --bg-elev:#12161b; --text:#e6eef7; --muted:#9fb0c0;
  --accent:#64d2ff; --accent-2:#49ffa3;
  --chip:#1b222b; --chip-border:#2a3440; --tag:#192029; --tag-match:#233b2b;
  --bar:var(--accent); --bar-bg:#1f2833; --card:#11151a; --outline:#2a3440;
  --danger:#ff6b6b; --success:#3ddc97;
  --shadow-1:0 4px 14px rgba(0,0,0,.22);
  --shadow-2:0 12px 28px rgba(0,0,0,.28);
}
@media (prefers-color-scheme: light){
  :root{
    --bg:#f7fafc; --bg-elev:#ffffff; --text:#0b0d10; --muted:#556270;
    --accent:#086dd8; --accent-2:#1fb874;
    --chip:#f0f5fb; --chip-border:#d8e2ee; --tag:#edf2f7; --tag-match:#e3f6ea;
    --bar:var(--accent); --bar-bg:#e7eef6; --card:#ffffff; --outline:#d8e2ee;
    --shadow-1:0 8px 22px rgba(17,24,39,.08);
    --shadow-2:0 24px 48px rgba(17,24,39,.12);
  }
}

/* ---------- Base ---------- */
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,Cantarell,Noto Sans,Arial,sans-serif;
  background: radial-gradient(1200px 1200px at 10% -10%, rgba(100,210,255,.07), transparent 60%) var(--bg);
  color:var(--text); line-height:1.5;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
:where(a,button,input,select){-webkit-tap-highlight-color:transparent}
:where(a,.btn,.toggle,.chip,.input-main,#tagInput,select):focus-visible{
  outline:none;
  box-shadow:0 0 0 3px color-mix(in srgb, var(--accent) 28%, transparent),
             0 0 0 1px color-mix(in srgb, var(--accent) 60%, var(--outline));
  border-color:color-mix(in srgb, var(--accent) 60%, var(--outline));
}

/* ---------- Header / Layout ---------- */
.site-header{padding:.85rem 1.25rem; background:color-mix(in srgb, var(--bg-elev) 90%, transparent); border-bottom:1px solid var(--outline)}
.site-header h1{margin:0 0 .15rem; font-size:1.4rem}
.sub{color:var(--muted); margin:0}
.container{max-width:1280px; margin:0 auto; padding:0 1.2rem}

.controls{
  background:linear-gradient(180deg, color-mix(in srgb, var(--bg-elev) 94%, transparent), var(--bg-elev));
  border:1px solid var(--outline); border-radius:14px; padding:1rem; margin:1rem 0; box-shadow:var(--shadow-1);
}

/* ---------- Inputs & Buttons ---------- */
.input-row{display:flex; gap:.5rem; align-items:center; flex-wrap:wrap}
.input-main,#tagInput{
  flex:1 1 480px; min-width:280px;
  padding:.85rem 1rem; border:1px solid var(--outline); border-radius:12px;
  background:var(--card); color:var(--text); font-size:1rem;
}
.btn{
  border:1px solid var(--outline);
  background:linear-gradient(180deg, color-mix(in srgb, var(--card) 88%, transparent), var(--card));
  color:var(--text); padding:.6rem .9rem; border-radius:10px; cursor:pointer;
}
.btn-ghost{background:transparent}
.btn-accent{border-color:var(--accent)}

/* ---------- Options grid (WRAPS cleanly) ---------- */
.options{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); /* <= main fix */
  gap:1rem;
  align-items:start;
}
.options fieldset{
  border:1px solid var(--chip-border); border-radius:12px;
  padding:.75rem .85rem; margin:0; background:color-mix(in srgb, var(--bg-elev) 96%, transparent);
}
.options fieldset>legend{font-size:.9rem; font-weight:700; color:var(--muted); padding:0 .25rem; margin:0 0 .35rem}

/* ---------- Date filter (kept on ONE line) ---------- */
.nowrap{white-space:nowrap}
.date-filter{display:flex; align-items:center; gap:.6rem; flex-wrap:wrap}
.date-filter-label{display:inline-flex; align-items:center; gap:.35rem}
.date-group{
  display:inline-grid;
  grid-auto-flow:column; grid-auto-columns:max-content;
  grid-template-columns:auto auto auto; /* label + month + year */
  gap:.35rem;
  white-space:nowrap; /* keep Month + Year together */
}
#relStartMonth,#relStartYear,#relEndMonth,#relEndYear{
  background:var(--card); color:var(--text); border:1px solid var(--outline);
  border-radius:8px; padding:.35rem .5rem; font-size:.92rem;
}

/* ---------- Range inputs (Price/Revenue) ---------- */
.range-row {
  --label-w: 10.5rem;
  display: grid;
  grid-template-columns: var(--label-w) minmax(0, 1fr);
  align-items: center;
  gap: .5rem .6rem;
  margin: .4rem 0;
  overflow: hidden;             /* ensures no bleed outside fieldset */
}

.range-label {
  opacity: .9;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}

.range-inputs {
  display: grid;
  grid-template-columns: 1fr auto 1fr; /* min — max */
  align-items: center;
  gap: .4rem;
  width: 100%;
  min-width: 0;                 /* allows proper shrink inside grid */
  overflow: hidden;
}

.range-input {
  width: 100%;
  min-width: 0;
  background: var(--card);
  color: var(--text);
  border: 1px solid var(--outline);
  border-radius: 8px;
  padding: .35rem .5rem;
  font-size: .9rem;
  box-sizing: border-box;
}

.range-sep {
  opacity: .75;
  white-space: nowrap;
}

@media (max-width: 560px) {
  .range-row {
    grid-template-columns: 1fr;
  }
  .range-label {
    grid-column: 1;
  }
  .range-inputs {
    grid-column: 1;
    grid-template-columns: 1fr auto 1fr;
  }
}


/* ---------- Fuzzy suggestions ---------- */
.seed-wrap{position:relative}
.seed-suggest{
  position:absolute; z-index:20; left:0; right:0; top:calc(100% + .25rem);
  max-height:300px; overflow:auto; border:1px solid rgba(255,255,255,.1);
  background:var(--panel,#111820); box-shadow:0 8px 24px rgba(0,0,0,.35); border-radius:.5rem; padding:.25rem 0; display:none;
}
.seed-wrap.suggest-open{padding-bottom:.5rem}
.seed-suggest.show{display:block}
.seed-suggest-item{display:flex; align-items:center; gap:.5rem; padding:.5rem .75rem; cursor:pointer; line-height:1.25}
.seed-suggest-item .game-name{font-weight:600}
.seed-suggest-item .meta{margin-left:auto; font-size:.85em; opacity:.75}
.seed-suggest-item:hover,.seed-suggest-item.active{background:rgba(255,255,255,.06)}
.seed-suggest-empty{padding:.6rem .75rem; opacity:.7; font-size:.9em}
@media (pointer:coarse){.seed-suggest{max-height:50vh}}

/* ---------- Chips ---------- */
.chips{display:flex; gap:.5rem; flex-wrap:wrap; margin:.75rem 0 0}
.chip{
  display:inline-flex; align-items:center; gap:.45rem;
  padding:.28rem .55rem .28rem .65rem; border-radius:999px;
  border:1px solid var(--chip-border); background:var(--chip); color:var(--text); font-size:.9rem;
}
.query-chips .chip{
  background:color-mix(in srgb, var(--accent) 10%, var(--chip));
  border-color:color-mix(in srgb, var(--accent) 40%, var(--chip-border));
}
.banned-chips .chip{
  border-color:color-mix(in srgb, var(--danger) 50%, var(--chip-border));
  background:color-mix(in srgb, var(--danger) 12%, var(--chip));
}
.chip .chip-x{
  inline-size:1.35rem; block-size:1.35rem; line-height:1.35rem;
  border-radius:50%; border:1px solid var(--chip-border); background:transparent; color:inherit;
  display:inline-grid; place-items:center; cursor:pointer; padding:0; font-weight:800; font-size:.95rem;
}

/* ---------- Results ---------- */
.results{display:grid; grid-template-columns:repeat(auto-fit,minmax(540px,1fr)); gap:1rem; margin-top:1.2rem}
@media (max-width:620px){.results{grid-template-columns:1fr}}

.card{
  background:color-mix(in srgb, var(--card) 88%, transparent);
  border:1px solid var(--outline); border-radius:14px; padding:.85rem 1rem;
  box-shadow:var(--shadow-1);
}
.card-header{display:grid; grid-template-columns:auto 1fr auto; gap:.8rem; align-items:center; margin-bottom:.4rem}
.card h3{margin:0 0 .35rem; font-size:1.05rem}
.card h3 a{color:var(--text); text-decoration:none; border-bottom:1px dotted var(--accent)}
.meta-row{display:flex; gap:1rem; flex-wrap:wrap; margin-bottom:.5rem; font-size:.92rem}

.sim-pill{
  display:inline-block; padding:.22rem .6rem; font-size:.86rem; line-height:1.1;
  border-radius:999px; border:1px solid currentColor; background:var(--bg-elev); color:var(--text);
  white-space:nowrap; opacity:.95;
}

.bar-wrap{position:relative; background:var(--bar-bg); border-radius:999px; height:10px; overflow:hidden; margin:.4rem 0 .6rem; border:1px solid var(--outline)}
.bar{height:100%; width:0%; background:linear-gradient(90deg, var(--bar), var(--accent-2)); transition:width .28s ease}

.tags{display:flex; gap:.35rem; flex-wrap:wrap; margin-top:.35rem}
.tag{background:var(--tag); color:var(--text); border:1px solid var(--chip-border); border-radius:999px; padding:.2rem .5rem; font-size:.85rem}
.tag.matched{background:var(--tag-match); border-color:#339b57}

.thumb-inline{width:160px; height:auto; border-radius:10px; border:1px solid var(--chip-border); box-shadow:0 2px 8px rgba(0,0,0,.3); object-fit:cover}

/* ---------- Pager ---------- */
.pager{display:flex; align-items:center; gap:.6rem; justify-content:center; margin:1rem 0 2rem}

    .site-header {
      background: color-mix(in srgb, var(--bg-elev) 92%, transparent);
      border-bottom: 1px solid var(--outline);
    }

    .site-header .wrap {
      max-width: 1200px;
      /* same width you use elsewhere */
      margin: 0 auto;
      /* center it */
      padding: .9rem 1rem;
      /* the missing gutter that aligns with your main header */
    }
