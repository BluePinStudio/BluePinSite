:root{
  --bg:#0b0d10; --bg-elev:#12161b; --card:#11151a; --text:#e6eef7; --muted:#9fb0c0;
  --accent:#64d2ff; --accent-2:#49ffa3; --outline:#2a3440;
  --shadow-1:0 6px 18px rgba(0,0,0,.22); --shadow-2:0 18px 36px rgba(0,0,0,.28);
  --fs-0:clamp(.9rem,.88rem + .2vw,1rem);
  --fs-1:clamp(1.05rem,1rem + .6vw,1.35rem);
  --radius:14px;
}
@media (prefers-color-scheme: light){
  :root{
    --bg:#f6f9fc; --bg-elev:#fff; --card:#fff; --text:#0b0d10; --muted:#556270;
    --accent:#086dd8; --accent-2:#1fb874; --outline:#d8e2ee;
    --shadow-1:0 10px 24px rgba(17,24,39,.08); --shadow-2:0 28px 52px rgba(17,24,39,.12);
  }
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}
html{scroll-behavior:smooth}
@supports (padding:max(0px)){body{padding-bottom:max(0px,env(safe-area-inset-bottom))}}
body{
  font:400 var(--fs-0)/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,Cantarell,Noto Sans,Arial,sans-serif;
  background:radial-gradient(1200px 1200px at 12% -10%,rgba(100,210,255,.07),transparent 60%) var(--bg);
  color:var(--text);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; text-rendering:optimizeLegibility;
}
.wrap{max-width:1200px;margin:0 auto;padding:0 1rem}
a{color:var(--accent)}
:focus-visible{outline:3px solid color-mix(in srgb,var(--accent) 60%,transparent);outline-offset:2px}
.hidden{display:none!important}
.small{font-size:.9em}
.muted{color:var(--muted)}
.num{text-align:right;white-space:nowrap;font-variant-numeric:tabular-nums}
.strong{font-weight:700}
.clickable{cursor:pointer}
@media (prefers-reduced-motion:reduce){
  *{animation-duration:.001ms!important;animation-iteration-count:1!important;transition-duration:.001ms!important;scroll-behavior:auto!important}
}

.site-header{background:color-mix(in srgb,var(--bg-elev) 92%,transparent);border-bottom:1px solid var(--outline)}
.site-header .wrap{padding:.9rem 1rem}
h1{margin:0 0 .25rem;font-size:var(--fs-1);letter-spacing:.2px}
.sub{color:var(--muted)}

.loader{
  position:fixed;inset:0;display:grid;place-items:center;background:linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.35));
  backdrop-filter:blur(2px);z-index:20;transition:opacity .35s ease,visibility .35s ease
}
.loader.hide{opacity:0;visibility:hidden}
.loader-card{width:min(680px,92vw);background:var(--bg-elev);border:1px solid var(--outline);border-radius:var(--radius);box-shadow:var(--shadow-2);padding:1rem}
.loader-head{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:.5rem}
.bar{height:12px;border-radius:999px;overflow:hidden;background:color-mix(in srgb,var(--card) 88%,transparent);border:1px solid var(--outline)}
.bar-fill{height:100%;width:0%;background:linear-gradient(90deg,var(--accent),var(--accent-2));transition:width .12s ease-out}
.loader-hint{margin-top:.5rem;color:var(--muted)}

.tabs{
  display:flex;gap:.4rem;margin:1rem 0 .6rem;padding:.35rem;background:color-mix(in srgb,var(--bg-elev) 96%,transparent);
  border:1px solid var(--outline);border-radius:12px;overflow:auto;-webkit-overflow-scrolling:touch
}
.tab{
  appearance:none;border:1px solid var(--outline);border-radius:10px;background:var(--card);color:var(--text);cursor:pointer;
  padding:.55rem .85rem;font-weight:600;flex:0 0 auto;touch-action:manipulation
}
.tab.active{
  border-color:color-mix(in srgb,var(--accent) 60%,var(--outline));
  box-shadow:0 0 0 3px color-mix(in srgb,var(--accent) 18%,transparent)
}
.tab[disabled]{opacity:.6;cursor:not-allowed}

.controls{
  background:linear-gradient(180deg,color-mix(in srgb,var(--bg-elev) 94%,transparent),var(--bg-elev));
  border:1px solid var(--outline);border-radius:var(--radius);padding:.9rem;box-shadow:var(--shadow-1);margin-bottom:.9rem;
  display:grid;gap:.65rem
}
.controls .controls-row{display:flex;align-items:flex-end;gap:12px;flex-wrap:wrap}
.field{display:inline-grid;grid-auto-flow:column;grid-template-columns:auto auto;align-items:center;gap:.28rem}
.label{color:var(--muted);white-space:nowrap;margin:0}
.input,.btn,.check input{accent-color:var(--accent)}
.input{
  background:var(--card);color:var(--text);border:1px solid var(--outline);border-radius:10px;
  padding:.55rem .7rem;min-height:40px;width:auto
}
select.input{padding-right:2rem}
.btn{
  border:1px solid var(--outline);border-radius:10px;
  background:linear-gradient(180deg,color-mix(in srgb,var(--card) 88%,transparent),var(--card));
  color:var(--text);padding:.6rem .8rem;cursor:pointer;touch-action:manipulation
}
.btn:hover{border-color:var(--accent);box-shadow:0 0 0 3px color-mix(in srgb,var(--accent) 18%,transparent)}
.field--sort select{min-width:200px}
.field--min input{width:10ch}
.checks-inline{display:flex;flex-wrap:wrap;gap:.7rem;align-items:center}
.check{display:inline-flex;align-items:center;gap:.45rem}
.row-1{display:flex;flex-wrap:wrap;align-items:center;gap:.55rem}
.row-2{display:flex;align-items:stretch}
.row-2 .chipbox{flex:1 1 100%;width:100%}
.row-3{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}
.row-3 .group{display:flex;align-items:center;gap:12px;flex-wrap:wrap}

@media (max-width:560px){
  .row-1{
    display:grid;
    grid-template-columns:minmax(0,1fr) minmax(0,1fr);
    grid-template-areas:"sort min" "mode mode" "checks checks";
    gap:.5rem
  }
  .field--sort{grid-area:sort}
  .field--min{grid-area:min}
  .field--mode{grid-area:mode}
  .checks-inline{grid-area:checks;justify-content:flex-start}
  .field{grid-template-columns:auto 1fr;min-width:0}
  .field .label{margin-right:.15rem}
  .input, .field select, .field .btn{width:100%;min-width:0}
  .field--sort select{min-width:0}
  .field--min input{width:100%}
  .controls{overflow:hidden}
}

@media (min-width:561px) and (max-width:899px){
  .row-1{display:flex;flex-wrap:wrap;align-items:center;gap:.6rem 1rem}
  .checks-inline{margin-left:auto}
  .field .label{margin-right:.25rem}
  .field--sort select{min-width:190px}
  .field--min input{width:9ch}
}

@media (min-width:900px){
  .row-1{display:grid;align-items:center;column-gap:1rem;grid-template-columns:auto auto auto 1fr}
  .checks-inline{justify-self:end;gap:1rem;flex-wrap:nowrap}
  .field .label{margin-right:.35rem}
}

.panel{margin-top:.5rem}
.panel.hidden{display:none}
.summary{margin:.2rem 0 .2rem;color:var(--muted)}

.table-wrap{
  background:color-mix(in srgb,var(--card) 90%,transparent);
  border:1px solid var(--outline);border-radius:var(--radius);box-shadow:var(--shadow-1);
  overflow:auto;-webkit-overflow-scrolling:touch;scrollbar-gutter:stable both-edges
}
.table{width:100%;border-collapse:collapse}
.table thead th,.table tbody td{vertical-align:middle}
.table thead th{
  text-align:left;font-weight:700;font-size:.95rem;background:color-mix(in srgb,var(--bg-elev) 95%,transparent);
  border-bottom:1px solid var(--outline);padding:.65rem .75rem;white-space:nowrap;position:sticky;top:0;z-index:1
}
.table tbody td{padding:.6rem .75rem;border-top:1px solid color-mix(in srgb,var(--outline) 70%,transparent)}
.table tbody tr:hover{background:color-mix(in srgb,var(--accent) 10%,transparent)}
.rank{color:var(--muted);width:4.5ch}
.name{width:auto;white-space:normal;word-break:break-word;display:flex;align-items:center;gap:.5rem}
.table .num{text-align:right}
.table thead th:nth-child(3),
.table thead th:nth-child(4),
.table thead th:nth-child(5),
.table thead th:nth-child(6),
.table tbody td:nth-child(3),
.table tbody td:nth-child(4),
.table tbody td:nth-child(5),
.table tbody td:nth-child(6){width:12ch;white-space:nowrap}
@media (max-width:900px){
  .table thead th:nth-child(3),
  .table thead th:nth-child(4),
  .table thead th:nth-child(5),
  .table thead th:nth-child(6),
  .table tbody td:nth-child(3),
  .table tbody td:nth-child(4),
  .table tbody td:nth-child(5),
  .table tbody td:nth-child(6){width:10ch}
}
.org-open-btn{
  margin-left:.25rem;padding:.35rem .5rem;border:1px solid var(--outline);border-radius:8px;
  background:color-mix(in srgb,var(--card) 92%,transparent);color:var(--text);line-height:1;cursor:pointer;flex:0 0 auto
}
.org-open-btn:hover{background:color-mix(in srgb,var(--card) 85%,transparent);box-shadow:var(--shadow-1)}
.org-open-btn:active{transform:translateY(1px)}

@media (max-width:560px){
  .table-wrap{overflow:visible}
  .table thead{display:none}
  .table tbody tr{
    display:grid;grid-template-columns:auto 1fr auto;row-gap:.28rem;padding:.55rem .6rem;
    border-bottom:1px solid color-mix(in srgb,var(--outline) 70%,transparent)
  }
  .table tbody td{border:0;padding:.18rem .22rem}
  .table tbody tr:hover{background:transparent}
  .table tbody td.rank{grid-column:1;grid-row:1;color:var(--muted)}
  .table tbody td.name{grid-column:2;grid-row:1}
  .table tbody td.games{grid-column:3;grid-row:1;justify-self:end;font-variant-numeric:tabular-nums}
  .table tbody td.games::before{content:"Games ";color:var(--muted);margin-right:.35rem}
  .table tbody td:nth-child(3){grid-column:1;grid-row:2}
  .table tbody td:nth-child(4){grid-column:2;grid-row:2}
  .table tbody td:nth-child(5){grid-column:3;grid-row:2;justify-self:end}
  .table tbody td:nth-child(3),
  .table tbody td:nth-child(4),
  .table tbody td:nth-child(5){
    background:color-mix(in srgb,var(--card) 90%,transparent);border:1px solid var(--outline);border-radius:999px;
    padding:.22rem .55rem;font-size:.95em;font-variant-numeric:tabular-nums;white-space:nowrap
  }
  .table thead th,.table tbody td{width:auto!important;white-space:nowrap}
}

.pager{
  display:flex;align-items:center;justify-content:space-between;gap:.6rem;padding:.6rem .2rem;margin-top:.4rem;flex-wrap:wrap
}
.pager-left,.pager-right{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}
.pager-size{max-width:90px}

dialog.org-drawer{
  border:1px solid var(--outline);background:var(--bg-elev);color:var(--text);border-radius:var(--radius);box-shadow:var(--shadow-2);
  width:min(960px,92vw);max-height:85vh;padding:0;overflow:hidden
}
.org-head{
  display:flex;align-items:center;justify-content:space-between;gap:.75rem;
  padding:.9rem 1rem;border-bottom:1px solid var(--outline);position:sticky;top:0;z-index:2;background:color-mix(in srgb,var(--bg-elev) 98%,transparent)
}
.org-head h3{margin:0;font-size:1.05rem}
.org-meta{color:var(--muted);margin-top:.2rem;font-size:.95rem}
.org-close{border:1px solid var(--outline);background:var(--card);color:var(--text);border-radius:10px;padding:.5rem .8rem;cursor:pointer}
.org-body{padding:.9rem 1rem;overflow-y:auto;max-height:calc(85vh - 58px);overscroll-behavior:contain;scrollbar-gutter:stable}
@media (max-width:560px){
  dialog.org-drawer{width:100vw;max-height:100vh;height:100dvh;border-radius:0}
  .org-body{max-height:calc(100dvh - 58px)}
}

.games-grid{display:grid;grid-template-columns:1fr;gap:.6rem;margin-top:.6rem}
.gcard{
  display:grid;grid-template-columns:110px 1fr;gap:.7rem;padding:.6rem;border:1px solid var(--outline);border-radius:12px;
  background:color-mix(in srgb,var(--card) 90%,transparent);align-items:center
}
@media (max-width:680px){.gcard{grid-template-columns:1fr}}
.gthumb{width:100%;height:auto;border-radius:8px;display:block}
.gtitle{margin:0 0 .25rem;font-size:1rem}
.gtitle a{color:inherit;text-decoration:none}
.gmeta{display:flex;flex-wrap:wrap;gap:.6rem;color:var(--muted);font-size:.92rem}
.gnums{margin-top:.25rem;display:grid;grid-auto-flow:column;justify-content:start;gap:1rem;font-variant-numeric:tabular-nums}
.pill{border:1px solid var(--outline);padding:.15rem .45rem;border-radius:999px;background:color-mix(in srgb,var(--bg-elev) 92%,transparent)}

.chipbox{
  display:grid;grid-template-columns:1fr;position:relative;border:1px solid var(--outline);background:var(--card);border-radius:10px;
  padding:.35rem .45rem .2rem;min-height:44px
}
.chips{display:flex;flex-wrap:wrap;gap:.35rem;margin:0;padding:0;list-style:none}
.chip{
  display:inline-flex;align-items:center;gap:.4rem;border:1px solid var(--outline);border-radius:999px;padding:.2rem .6rem;
  background:color-mix(in srgb,gold 25%,var(--bg-elev));border-color:color-mix(in srgb,gold 40%,var(--outline));font-size:.95rem
}
.chip:hover{box-shadow:0 0 4px color-mix(in srgb,gold 40%,transparent)}
.chip-remove{border:0;background:none;cursor:pointer;font-size:1.05rem;line-height:1;padding:0 .1rem;color:color-mix(in srgb,gold 50%,var(--muted))}
.chip-input{border:0;outline:none;padding:.25rem .2rem .35rem;background:transparent;min-width:120px;font:inherit;color:inherit}
.ac-list{
  position:absolute;left:0;right:0;top:calc(100% - .2rem);border:1px solid var(--outline);background:var(--bg-elev);border-radius:10px;
  box-shadow:var(--shadow-2);padding:.25rem;max-height:260px;overflow:auto;z-index:5
}
.ac-item{padding:.45rem .55rem;border-radius:8px;cursor:pointer}
.ac-item:hover,.ac-item[aria-selected="true"]{background:color-mix(in srgb,var(--card) 88%,transparent)}

@media (max-width:560px){
  .tabs{gap:.3rem;padding:.3rem}
  .tab{padding:.5rem .65rem}
}

/* Selection hygiene */
* { -webkit-tap-highlight-color: transparent; }
.noselect,
.site-header,
.tabs, .tab,
.controls, .controls .check span, .btn,
.pager, .pager-left, .pager-right,
.table thead,
.org-open-btn,
dialog.org-drawer .org-head,
.chip, .chip-remove,
.ac-item {
  user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  -webkit-touch-callout: none;
}

/* Keep selection ON where users may copy text */
input, textarea, select,
.chip-input,
.table tbody td,
.summary,
dialog.org-drawer .org-body,
.gtitle a, .org-meta, .gnums {
  user-select: text;
  -webkit-user-select: text;
}

/* Prevent accidental selection on name cell button only */
.name .org-open-btn { user-select: none; }

/* Utility: opt-in no-select anywhere */
.noselect { pointer-events: auto; }
